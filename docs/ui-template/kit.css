:root{
  /* Base tokens (can be overridden by themes) */
  --bg:#f5f7fb; --paper:#ffffff; --text:#111; --muted:#6b7280; --line:#e5e7eb; --pri:#2563eb; --acc:#22d3ee; --ok:#16a34a; --err:#dc2626;
  --r-sm:6px; --r-md:10px; --r-lg:14px; --sh-sm:0 2px 8px rgba(0,0,0,.08); --sh-md:0 8px 30px rgba(0,0,0,.12);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:14px/1.6 -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,'Noto Sans JP','Hiragino Kaku Gothic ProN','Yu Gothic','Meiryo',sans-serif}
.ui-header{display:flex;align-items:center;gap:12px;padding:10px 14px;border-bottom:1px solid var(--line);background:var(--paper);position:sticky;top:0;z-index:10}
.ui-header .brand{font-weight:700}
.ui-header .grow{flex:1}
.btn{border:1px solid var(--line);background:var(--paper);padding:6px 10px;border-radius:var(--r-sm);cursor:pointer}
.btn.primary{background:var(--pri);border-color:var(--pri);color:#fff;box-shadow:var(--sh-sm)}
.ui-shell{display:grid;grid-template-columns:220px 1fr;min-height:calc(100vh - 50px)}
.ui-side{border-right:1px solid var(--line);background:var(--paper)}
.nav{display:grid}
.nav-item{padding:10px 12px;border-bottom:1px solid var(--line);cursor:pointer}
.nav-item.active{background:color-mix(in oklab, var(--pri) 10%, var(--paper)); color:var(--text)}
.ui-main{padding:12px}
.toolbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.title{font-weight:600}
.grid2{display:grid;gap:12px;grid-template-columns:1fr 1fr}
.panel{border:1px solid var(--line);border-radius:var(--r-md);background:var(--paper);overflow:hidden;box-shadow:var(--sh-sm)}
.panel-head{padding:10px 12px;border-bottom:1px solid var(--line);font-weight:600}
.panel-body{padding:12px}
.form{display:grid;gap:10px}
.input,.textarea{width:100%;padding:8px;border:1px solid var(--line);border-radius:var(--r-sm);background:var(--paper);color:var(--text)}
.dropzone{display:flex;align-items:center;justify-content:center;height:140px;border:2px dashed #cbd5e1;border-radius:10px;background:#f8fafc;color:#475569;cursor:pointer}
.dropzone.drag{background:color-mix(in oklab, var(--pri) 8%, var(--paper));border-color:var(--pri);color:var(--pri)}
.preview{display:grid;gap:8px}
.preview img{max-width:40%;border:1px solid var(--line);border-radius:var(--r-sm)}
.mono{font:12px/1.4 ui-monospace,SFMono-Regular,Menlo,Consolas,Monaco}
.toasts{position:fixed;right:12px;bottom:12px;display:grid;gap:8px;z-index:1000}
.toast{padding:8px 12px;border-radius:8px;box-shadow:0 4px 16px rgba(0,0,0,.1);background:#fff;border:1px solid var(--line)}
.toast.ok{border-color:var(--ok)}
.toast.error{border-color:var(--err);color:#991b1b}
